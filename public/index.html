<!DOCTYPE html>
<html lang="en">
<head>
    <title>Boardgaming</title>
    <meta charset="utf-8">
    <style>
</style>
</head>
<body><ul id="messages"></ul><form action=""><input id="m" autocomplete="off"><button>Send</button></form>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
$(function () {
  var id = '';

  var socket = io();

    socket.on('connect', function() {
        id = socket.id;
        console.log('socket', id);
        $('#messages').append($('<li>').text('I am ' + id));
    });

  $('form').submit(function(){
    console.log($('#m').val());
    socket.emit('chat message', $('#m').val()); // emit an event to the socket
    $('#m').val('');
    return false;
  });
  socket.on('chat message', function(message){  // listen to the event
    console.log(message.text, message.id);
    $('#messages').append($('<li>').text(message.text + ' ' + message.id));
    window.scrollTo(0, document.body.scrollHeight);
  });
});
</script></body></html>
